import{l as P,Q as G,R as H,S as X,T as Y,U as Z,V as R,r as D,c as S,A as $,L as I,o as K,W as N}from"./index-ddcfb16c.js";function B(e){return Y()?(Z(e),!0):!1}function Q(e,n){if(typeof Symbol<"u"){const t={...e};return Object.defineProperty(t,Symbol.iterator,{enumerable:!1,value(){let o=0;return{next:()=>({value:n[o++],done:o>n.length})}}}),t}else return Object.assign([...n],e)}function v(e){return typeof e=="function"?e():P(e)}const k=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const V=e=>e!=null,q=Object.prototype.toString,J=e=>q.call(e)==="[object Object]",x=()=>{};function j(e){const n=Object.create(null);return t=>n[t]||(n[t]=e(t))}const ee=/-(\w)/g,te=j(e=>e.replace(ee,(n,t)=>t?t.toUpperCase():""));function ne(e,n={}){if(!G(e))return H(e);const t=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const o in e.value)t[o]=X(()=>({get(){return e.value[o]},set(c){var d;if((d=v(n.replaceRef))!=null?d:!0)if(Array.isArray(e.value)){const f=[...e.value];f[o]=c,e.value=f}else{const f={...e.value,[o]:c};Object.setPrototypeOf(f,Object.getPrototypeOf(e.value)),e.value=f}else e.value[o]=c}}));return t}function ue(e={}){const{inheritAttrs:n=!0}=e,t=R(),o=I({setup(d,{slots:u}){return()=>{t.value=u.default}}}),c=I({inheritAttrs:n,setup(d,{attrs:u,slots:f}){return()=>{var r;t.value;const l=(r=t.value)==null?void 0:r.call(t,{...re(u),$slots:f});return n&&(l==null?void 0:l.length)===1?l[0]:l}}});return Q({define:o,reuse:c},[o,c])}function re(e){const n={};for(const t in e)n[te(t)]=e[t];return n}function E(e){var n;const t=v(e);return(n=t==null?void 0:t.$el)!=null?n:t}const W=k?window:void 0;function w(...e){let n,t,o,c;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,o,c]=e,n=W):[n,t,o,c]=e,!n)return x;Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);const d=[],u=()=>{d.forEach(s=>s()),d.length=0},f=(s,i,p,y)=>(s.addEventListener(i,p,y),()=>s.removeEventListener(i,p,y)),r=$(()=>[E(n),v(c)],([s,i])=>{if(u(),!s)return;const p=J(i)?{...i}:i;d.push(...t.flatMap(y=>o.map(g=>f(s,y,g,p))))},{immediate:!0,flush:"post"}),l=()=>{r(),u()};return B(l),l}function oe(){const e=D(!1),n=N();return n&&K(()=>{e.value=!0},n),e}function le(e){const n=oe();return S(()=>(n.value,!!e()))}function se(e,n={}){var t,o;const{pointerTypes:c,preventDefault:d,stopPropagation:u,exact:f,onMove:r,onEnd:l,onStart:s,initialValue:i,axis:p="both",draggingElement:y=W,containerElement:g,handle:T=e}=n,h=D((t=v(i))!=null?t:{x:0,y:0}),m=D(),C=a=>c?c.includes(a.pointerType):!0,M=a=>{v(d)&&a.preventDefault(),v(u)&&a.stopPropagation()},F=a=>{var O;if(v(n.disabled)||!C(a)||v(f)&&a.target!==v(e))return;const b=v(g),_=(O=b==null?void 0:b.getBoundingClientRect)==null?void 0:O.call(b),A=v(e).getBoundingClientRect(),L={x:a.clientX-(b?A.left-_.left+b.scrollLeft:A.left),y:a.clientY-(b?A.top-_.top+b.scrollTop:A.top)};(s==null?void 0:s(L,a))!==!1&&(m.value=L,M(a))},U=a=>{if(v(n.disabled)||!C(a)||!m.value)return;const O=v(g),b=v(e).getBoundingClientRect();let{x:_,y:A}=h.value;(p==="x"||p==="both")&&(_=a.clientX-m.value.x,O&&(_=Math.min(Math.max(0,_),O.scrollWidth-b.width))),(p==="y"||p==="both")&&(A=a.clientY-m.value.y,O&&(A=Math.min(Math.max(0,A),O.scrollHeight-b.height))),h.value={x:_,y:A},r==null||r(h.value,a),M(a)},z=a=>{v(n.disabled)||!C(a)||m.value&&(m.value=void 0,l==null||l(h.value,a),M(a))};if(k){const a={capture:(o=n.capture)!=null?o:!0};w(T,"pointerdown",F,a),w(y,"pointermove",U,a),w(y,"pointerup",z,a)}return{...ne(h),position:h,isDragging:S(()=>!!m.value),style:S(()=>`left:${h.value.x}px;top:${h.value.y}px;`)}}function ie(e,n={}){const t=D(!1),o=R(null);let c=0,d=!0;if(k){const u=typeof n=="function"?{onDrop:n}:n,f=r=>{var l,s;const i=Array.from((s=(l=r.dataTransfer)==null?void 0:l.files)!=null?s:[]);return o.value=i.length===0?null:i};w(e,"dragenter",r=>{var l,s;const i=Array.from(((l=r==null?void 0:r.dataTransfer)==null?void 0:l.items)||[]).map(p=>p.kind==="file"?p.type:null).filter(V);if(u.dataTypes&&r.dataTransfer){const p=P(u.dataTypes);if(d=typeof p=="function"?p(i):p?p.some(y=>i.includes(y)):!0,!d)return}r.preventDefault(),c+=1,t.value=!0,(s=u.onEnter)==null||s.call(u,f(r),r)}),w(e,"dragover",r=>{var l;d&&(r.preventDefault(),(l=u.onOver)==null||l.call(u,f(r),r))}),w(e,"dragleave",r=>{var l;d&&(r.preventDefault(),c-=1,c===0&&(t.value=!1),(l=u.onLeave)==null||l.call(u,f(r),r))}),w(e,"drop",r=>{var l;r.preventDefault(),c=0,t.value=!1,(l=u.onDrop)==null||l.call(u,f(r),r)})}return{files:o,isOverDropZone:t}}function ce(e,n,t={}){const{root:o,rootMargin:c="0px",threshold:d=.1,window:u=W,immediate:f=!0}=t,r=le(()=>u&&"IntersectionObserver"in u),l=S(()=>{const g=v(e);return(Array.isArray(g)?g:[g]).map(E).filter(V)});let s=x;const i=D(f),p=r.value?$(()=>[l.value,E(o),i.value],([g,T])=>{if(s(),!i.value||!g.length)return;const h=new IntersectionObserver(n,{root:E(T),rootMargin:c,threshold:d});g.forEach(m=>m&&h.observe(m)),s=()=>{h.disconnect(),s=x}},{immediate:f,flush:"post"}):x,y=()=>{s(),p(),i.value=!1};return B(y),{isSupported:r,isActive:i,pause(){s(),i.value=!1},resume(){i.value=!0},stop:y}}export{ie as a,ce as b,ue as c,se as u};
